/* Minimalist stylesheet (single, clean file)
     - Centered hero
     - Simple sticky header
     - Clean work grid with cards
    /* Minimalist stylesheet (single, clean file)
         - Centered hero
         - Simple sticky header
         - Clean work grid with cards
         - Accessible about modal
    */

    :root {
        --bg: #ffffff;
        --surface: #ffffff;
        --text: #0f1724;
        --muted: #6b7280;
        --about-blue: #0f3058;
        --accent: #2563eb;
        --max-width: 1100px;
        --gap: 28px;
        --radius: 8px;
        --blue-1: #2b69b8;
        --blue-2: #1e40af;
        /* legacy glass variables removed — values inlined for the new theme */
        --modal-backdrop-blur: 6px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body { font-family: 'Inter Display', Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; color: #11181c; font-size: 16px; line-height: 1.2; background: var(--bg); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; height: auto; display: block; }

    .container { width: 100%; max-width: var(--max-width); margin: 0 auto; padding: 0 20px; }

    /* Header / Top bar (light, thin separator) */
    header {
        position: sticky;
        top: 0;
        z-index: 60;
        /* header remains visually transparent; the pill pseudo-element provides the glass surface */
        background: transparent;
        color: #111827;
        border-bottom: none;
    }
    .header-row {
        display: grid;
        grid-template-columns: auto 1fr auto;
        align-items: center;
        gap: 20px;
        padding: 14px 0; /* compact height */
    }
    .brand a { color: #0f1724; font-weight: 700; text-decoration: none; }
    .nav { display: block; }
    .nav-list { list-style: none; display: flex; gap: 36px; justify-content: center; align-items: center; padding: 0; margin: 0; }
    .nav-list li { display: inline-block; }
    .nav-list a { color: #374151; font-weight: 600; font-size: 0.95rem; padding: 6px 0; }
    .nav-list a:hover { color: #0f1724; }
    .header-actions { display: flex; justify-content: flex-end; }
    .project-request { color: #2563eb; font-weight: 700; border: none; background: transparent; padding: 6px 8px; text-decoration: none; }
    .project-request:hover { text-decoration: none; }

    /* On dark pages we still want header text to stay visible when page background is dark. */
    header .nav-list a,
    header .brand a { color: #374151; }

    /* Hero */
    .hero { display: grid; place-items: center; text-align: center; padding: 160px 0 160px; }
    .hero-inner { max-width: 880px; }
    /* decorative glass bubble moved to header-row so it sits behind the top menu selection */
    .header-row { position: relative; }
    .header-row::before {
        /* positioned by JS via CSS variables for pixel-perfect anchoring
           --pill-left: distance from header-row left to pill left (px)
           --pill-right: distance from header-row right to pill right (px)
           --pill-top: vertical center of the pill inside header-row (px or %)
           --pill-height: pill height (px)
        */
        content: "";
        position: absolute;
        left: var(--pill-left, 50%);
        right: var(--pill-right, auto);
        top: var(--pill-top, 72%);
        /* center vertically; horizontal sizing determined by left+right */
        transform: translateY(-50%);
        height: var(--pill-height, 86px);
        /* visible glass pill with slightly stronger blur and a faint tint so it reads on light pages */
        background: linear-gradient(180deg, rgba(17,24,28,0.03), rgba(255,255,255,0.78));
        border-radius: 999px;
        -webkit-backdrop-filter: blur(8px) saturate(118%);
        backdrop-filter: blur(8px) saturate(118%);
    /* subtle separation so the pill is visible on white backgrounds */
    box-shadow: 0 10px 28px rgba(6,16,36,0.06);
    border: 1px solid rgba(15,23,42,0.04);
        pointer-events: none;
        z-index: 0; /* behind header children */

        /* start hidden until JS measures & reveals the pill to avoid seam artifacts */
        opacity: 0;
        transform-origin: center;
        transition: opacity 160ms linear, left 240ms ease, right 240ms ease, top 240ms ease, height 240ms ease, box-shadow 240ms ease, transform 240ms ease;
    }

    /* Reveal the pill only when measurements are done to avoid rendering flashes */
    .header-row.pill-ready::before {
        opacity: 1;
        transform: translateY(-50%) scaleX(1);
    }

    /* make nav items look like they sit inside the glass */
    .nav-list a { color: #0f1724; }
    .brand a { color: #0f1724; }

    /* ensure header children render above the bubble */
    .header-row > * { position: relative; z-index: 2; }

    /* reduce intensity on small screens */
    @media (max-width: 880px) {
        .header-row::before { display: none; }
    }
    @media (max-width: 1200px) {
        /* sensible CSS fallbacks for medium screens (in case JS is disabled) */
        .header-row { --pill-left: 40px; --pill-right: 40px; --pill-top: 64%; --pill-height: 78px; }
    }
    @media (prefers-reduced-motion: reduce) {
        .header-row::before { transition: none; filter: blur(4px); }
    }

/* Reserve space when jumping to anchors so content doesn't sit under the sticky header */
html { scroll-padding-top: 110px; scroll-behavior: smooth; }

/* Header nav: remove focus outlines when clicked with mouse, keep focus-visible for keyboard users */
.header-row .nav-list a:focus { outline: none; }
.header-row .nav-list a:focus:not(:focus-visible) { box-shadow: none; }
    /* Larger hero with safer line height to avoid clipping and a diagonal gradient */
    .hero-title {
        display: inline-block;
        margin: 0 0 28px;
        font-size: clamp(36px, 6vw, 84px);
        line-height: 1.12;
        font-weight: 700;
        letter-spacing: -0.02em;
        padding-bottom: 10px;
            /* Use user's two-layer fade: vertical dark vignette + horizontal blue-to-dark sweep */
            /* widen the horizontal gradient and move its mid-blue stop further right so "Villatoro" keeps some blue */
            background-image:
                linear-gradient(0deg, #11181c 20%, rgba(17, 24, 28, 0) 45%),
                linear-gradient(90deg, #0f3058 0%, #006adc 50%, #0f3058 70%, #11181c 85%, #11181c 100%);
            /* precise positioning so the blue sits across the left and into the center-right of the heading */
            background-repeat: no-repeat;
            background-position: center center, 30% center;
            background-size: cover, 220% 100%;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent;
        /* remove heavy stroke for a cleaner, higher-res look; rely on subtle shadows */
        -webkit-text-stroke: 0px rgba(0,0,0,0);
        transform: translateY(1px);
        transition: transform 240ms cubic-bezier(.2,.9,.2,1), box-shadow 240ms cubic-bezier(.2,.9,.2,1), filter 240ms ease;
        /* rendering hints for crisper text */
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        will-change: transform, filter;
        /* subtle layered shadow to increase perceived contrast and depth */
        text-shadow: 0 0.5px 0 rgba(255,255,255,0.02), 0 6px 20px rgba(6,16,36,0.10);
    }

    /* Remove per-word backgrounds — use a single continuous gradient across the whole H1 for a smooth left->right transition */
    /* ensure the H1 background spans wide enough to cover both words and be positioned for the desired left->right fade */
    .hero-title { background-size: cover, 240% 100%; background-position: center center, 28% center; }

    /* style per-word weights to match the reference: first word slightly lighter, last word bolder */
    .hero-first { font-weight: 700; letter-spacing: -0.01em; }
    .hero-last { font-weight: 700; }

    /* Keep hero static with minimal styling; remove hover/frost effects per user request */
    @media (prefers-reduced-motion: reduce) {
        .hero-title { transition: none !important; transform: none !important; }
    }

    /* Keyboard focus-visible support (minimal) */
    .hero-title:focus-visible { outline: 3px solid rgba(37,99,235,0.08); outline-offset: 6px; }
    .hero-sub { margin: 0 auto 24px; color: var(--muted); font-size: 1.125rem; max-width: 64ch; }

    .cta { display: inline-block; padding: 10px 14px; border-radius: 8px; background: transparent; border: 1px solid rgba(255,255,255,0.06); color: var(--text); font-weight: 700; }

    /* Work grid */
    .work-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 22px; margin: 34px 0 64px; }
    .work-card {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 16px;
        border-radius: 10px;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border: 1px solid rgba(15,23,42,0.04);
        box-shadow: 0 6px 18px rgba(6,16,36,0.04);
        transition: transform 210ms ease, box-shadow 210ms ease;
        min-height: 140px;
        align-items: stretch;
        color: var(--text);
    }
    .work-card:hover { transform: translateY(-6px); box-shadow: 0 10px 30px rgba(6,16,36,0.07); }
    .work-thumb { width: 100%; height: 140px; border-radius: 8px; object-fit: cover; background: linear-gradient(135deg,#0b1220,#102233); }
    .work-title { margin: 0; font-size: 1.05rem; font-weight: 800; color: var(--text); }
    .work-desc { margin: 0; color: var(--muted); font-size: 0.95rem; }
    .project-link { display: inline-flex; gap: 8px; align-items: center; margin-top: 7px; color: var(--accent); font-weight: 700; }

    .load-more-wrap { display:flex; justify-content:center; margin: 28px 0 60px; }
    .load-more-btn { background: transparent; border: 1px solid rgba(255,255,255,0.06); color: var(--text); padding: 12px 18px; border-radius: 8px; cursor:pointer; }

    /* About modal */
    /* dark blurred vignette behind the card */
    .modal-backdrop {
        position: absolute;
        inset: 0;
        background: radial-gradient(ellipse at center, rgba(2,6,23,0.35) 0%, rgba(2,6,23,0.65) 45%, rgba(2,6,23,0.8) 100%);
        /* start hidden via opacity so transitions animate (avoid display:none) */
        backdrop-filter: blur(var(--modal-backdrop-blur)) saturate(1.05);
        -webkit-backdrop-filter: blur(var(--modal-backdrop-blur)) saturate(1.05);
        opacity: 0;
        pointer-events: none;
        transition: backdrop-filter 360ms cubic-bezier(.2,.9,.2,1), opacity 360ms ease;
        will-change: backdrop-filter, opacity;
    }

    /* When modal is revealed via active class, animate the blur on the backdrop */
    #about-modal.is-active .modal-backdrop {
        backdrop-filter: blur(var(--modal-backdrop-blur)) saturate(1.05);
        -webkit-backdrop-filter: blur(var(--modal-backdrop-blur)) saturate(1.05);
        opacity: 1;
        pointer-events: auto;
    }

    /* Modal overlay container - controlled by aria-hidden on #about-modal */
    #about-modal {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center; /* vertical center */
        justify-content: center; /* horizontal center */
        padding: 40px; /* room from edges */
        z-index: 70;
        pointer-events: none;
        opacity: 0;
        transition: opacity 220ms ease;
    }

    #about-modal[aria-hidden="false"] {
        pointer-events: auto;
        opacity: 1;
    }

    /* The card/dialog */
    .modal-dialog {
        position: relative;
        z-index: 80;
        width: min(960px, 100%);
        max-width: 960px;
        max-height: calc(100vh - 80px);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .modal {
        width: 100%;
        max-height: calc(100vh - 96px);
        display: grid;
        grid-template-columns: minmax(0, 1fr) 360px;
        gap: 22px;
        align-items: start;
        /* frosted glass card: subtle translucent white with blur and light border */
        /* modal glass: inlined translucent whites replacing legacy variables */
        background: linear-gradient(180deg, rgba(255,255,255,0.46), rgba(255,255,255,0.66));
        color: #0f1724;
        border-radius: 12px;
        padding: 28px;
    -webkit-backdrop-filter: blur(8px) saturate(1.08);
    backdrop-filter: blur(8px) saturate(1.08);
    border: none;
    box-shadow: none;
        overflow: hidden;
        /* initial entry state so appearing feels smooth: slight downward offset and subtle opacity */
        transform: translateY(6px);
        opacity: 0.98;
        transition: transform 360ms cubic-bezier(.2,.9,.2,1), opacity 360ms ease, box-shadow 360ms ease, backdrop-filter 360ms ease, border 340ms ease, background 360ms ease;
        will-change: transform, backdrop-filter, opacity;
    }

    /* When the modal is revealed, ease the card into place and let blur/background transit */
    #about-modal[aria-hidden="false"] .modal {
        transform: translateY(0);
        opacity: 1;
    }

    /* Contact modal should mirror About modal behavior: center, blur backdrop, no visual column */
    #contact-modal {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px;
        z-index: 80;
        pointer-events: none;
        opacity: 0;
        transition: opacity 220ms ease;
    }

    #contact-modal[aria-hidden="false"] { pointer-events: auto; opacity: 1; }

    #contact-modal .modal { width: min(720px, 100%); grid-template-columns: 1fr; max-width: 720px; }

    /* Hide visuals inside the contact modal (we only want the form) */
    #contact-modal .modal-visual { display: none !important; }

    /* Make contact modal text darker for readability (match About modal) */
    #contact-modal .modal,
    #contact-modal .modal-text,
    #contact-modal .contact-form,
    #contact-modal .contact-intro {
        color: #0f1724; /* primary page text color */
    }

    #contact-modal label { color: #374151; font-weight: 600; }

    /* Ensure placeholders remain muted but inputs are readable */
    #contact-modal input::placeholder,
    #contact-modal textarea::placeholder { color: rgba(15,23,42,0.35); }

    #contact-modal .modal-backdrop { position: absolute; inset: 0; opacity: 0; transition: backdrop-filter 360ms cubic-bezier(.2,.9,.2,1), opacity 360ms ease; }
    #contact-modal.is-active .modal-backdrop { opacity: 1; backdrop-filter: blur(var(--modal-backdrop-blur)) saturate(1.05); -webkit-backdrop-filter: blur(var(--modal-backdrop-blur)) saturate(1.05); pointer-events: auto; }
    #contact-modal.is-open { pointer-events: auto; }
    #contact-modal.is-open .modal { transform: translateY(6px) scale(0.997); opacity: 0.98; }
    #contact-modal.is-active .modal { transform: translateY(0) scale(1); opacity: 1; }

    /* Sequencing classes for smoother animation control from JS */
    #about-modal.is-open { pointer-events: auto; }
    #about-modal.is-open .modal { transform: translateY(6px) scale(0.997); opacity: 0.98; }
    #about-modal.is-open .modal-backdrop { opacity: 0; }

    #about-modal.is-active { pointer-events: auto; }
    #about-modal.is-active .modal { transform: translateY(0) scale(1); opacity: 1; }
    #about-modal.is-active .modal-backdrop { opacity: 1; }

    .modal h3 { margin-top: 0; font-size: 1.6rem; color: var(--about-blue); }
    .modal-close { position: absolute; right: 18px; top: 4px; background: transparent; border: none; color: #94a3b8; font-size: 1.15rem; cursor: pointer; }
    .modal-close:hover { color: var(--about-blue); transform: translateY(-1px); }

    /* modal-body contains two columns: text (left) and visual (right) */
    .modal-body { display: contents; }

    .modal-text {
        color: #394b59; font-size: 1rem; line-height: 1.7;
        padding-right: 8px;
        overflow: hidden;
    }

    /* Make the text column scroll internally if content exceeds modal height */
    .modal-text > * {
        margin: 0 0 1rem 0;
    }

    .modal-text {
        max-height: calc(100vh - 200px);
        overflow: auto;
        padding-right: 10px;
    }

    .modal-visual {
        border-radius: 10px; min-height: 320px; height: auto; background-size: cover; background-position: center right;
        align-self: stretch;
        /* visual column separation so the portrait pops against the frosted card */
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 8px 30px rgba(6,16,36,0.06);
        /* remove solid white border to avoid harsh white edge */
        border: 1px solid rgba(255,255,255,0.18);
    }

    .modal-visual img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
    }

    .modal-visual { background: linear-gradient(180deg, #f3f4f6, #ffffff); background-size: cover; background-position: center; border-radius: 8px; min-height: 320px; }

    /* Make modal visuals (images) render without any white background and sit above the modal's glass layer */
    .modal-visual img { background: transparent; display: block; z-index: 5; }

    /* Ensure modal body text remains readable if background becomes very translucent */
    .modal-text { color: #0f1724; }

    /* signature area placeholder */
    .modal .signature { margin-top: 18px; font-family: 'Brush Script MT', cursive; font-size: 1.2rem; }

    /* Prevent background scroll when modal open */
    body.modal-open { overflow: hidden; }

    /* Responsive: stack on small screens */
    @media (max-width: 760px) {
        .modal { grid-template-columns: 1fr; padding: 20px; }
    /* modal visuals removed for small screens */
        .modal-dialog { width: calc(100% - 32px); }
    }

    /* Footer */
    footer { padding: 36px 0; color: var(--muted); text-align:center; font-size:0.95rem; }

    /* Accessibility helpers */
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border:0; }

    /* Responsive tweaks */
    @media (max-width: 880px) { .hero { padding-top: 56px; } .work-thumb { height: 120px; } }
    @media (max-width: 720px) {
        .nav { display: none; }
        .header-row { grid-template-columns: auto 1fr auto; }
        .project-request { font-size: 0.95rem; }
    }
    @media (max-width: 520px) { .hero-title { font-size: 28px; line-height: 1.04; padding-bottom: 10px; } .work-thumb { height: 96px; } .modal { padding: 18px; } }

    /* End of stylesheet */

.lifestyle-intro .lead {
    max-width: 70ch;
    margin: 0 auto 1rem;
    color: #ffffff;
    font-size: 1.05rem;
}

.lifestyle-highlight {
    background: linear-gradient(180deg, rgba(255,255,255,0.46), rgba(255,255,255,0.66));
    -webkit-backdrop-filter: blur(8px) saturate(1.08);
    backdrop-filter: blur(8px) saturate(1.08);
    padding: 1rem;
    border-radius: 10px;
    text-align: center;
    color: #0f1724;
    min-height: 140px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-shadow: 0 8px 30px rgba(6,16,36,0.06);
    border: 1px solid rgba(15,23,42,0.04);
}

.lifestyle-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-top: 1rem;
    width: 100%;
    max-width: 100%;
    align-items: stretch;
    /* allow consecutive card + caption pairs to occupy grid cells left-to-right */
    grid-auto-rows: auto;
}

/* Experience section styles */
.experience { display: block; }
.experience-grid {
    display: grid;
    /* slightly larger minimum so cards have breathing room and don't wrap text awkwardly */
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
    margin-top: 12px;
    align-items: start;
}

.job {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: 10px;
    padding: 16px;
    border: 1px solid rgba(15,23,42,0.04);
    box-shadow: 0 6px 18px rgba(6,16,36,0.04);
    min-height: 140px; /* give each card some vertical room */
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}
.job-head { display:flex; flex-direction:column; gap:6px; align-items:flex-start; }
.job-company { font-weight:800; color:var(--text); font-size:1.02rem; }
.job-role { display:flex; flex-direction:column; gap:4px; align-items:flex-start; }
.job-title { font-weight:400; font-size:0.98rem; color:var(--text); }
.job-dates { color:var(--muted); font-size:0.85rem; margin-left:0; }

/* Make the Experience heading span both columns on wide screens to prevent layout shifting */
.experience > h3 { grid-column: 1 / -1; margin-top: 0; }
.job-desc { margin-top:8px; color:var(--muted); line-height:1.5; }

/* On wider screens place experience and skills side-by-side */

/* Make skills look like a frosted card and align heading with chips */
.skills {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    -webkit-backdrop-filter: blur(6px) saturate(1.02);
    backdrop-filter: blur(6px) saturate(1.02);
    border-radius: 10px;
    padding: 12px 16px;
    border: 1px solid rgba(15,23,42,0.04);
    box-shadow: 0 6px 18px rgba(6,16,36,0.04);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    margin-top: 18px; /* space from experience cards */
}
.skills h3 {
    margin: 0;
    padding: 0;
    font-weight: 800;
    font-size: 1.02rem;
    color: var(--text);
}
.skills ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
}
.skills li {
    background: rgba(255,255,255,0.02);
    padding: 6px 10px;
    border-radius: 8px;
    color: var(--muted);
    font-weight: 600;
    font-size: 0.92rem;
}

/* On wider screens show the heading and chips on one row */
@media (min-width: 880px) {
    .skills {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
    }
    .skills h3 {
        margin: 0;
        padding-right: 12px;
        white-space: nowrap;
    }
    .skills ul {
        justify-content: flex-end;
        gap: 10px;
    }
}

/* Collapsible job descriptions */
.job-desc { position: relative; margin-top: 8px; }
/* Hidden by default: only job head (role/company/date) is shown until user expands */
.job-desc.is-hidden { display: none !important; }
.job-toggle {
    display: inline-block;
    margin-top: 10px;
    color: var(--accent);
    font-weight: 700;
    background: transparent;
    border: none;
    padding: 6px 0;
    cursor: pointer;
}
.job-toggle:focus { outline: 2px solid rgba(0,0,0,0.06); outline-offset: 3px; }

.lifestyle-grid .card {
    /* Adopt the same container model as .work-card: thumbnail + caption inside */
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 14px;
    border-radius: 12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: none;
    box-shadow: none;
    transition: transform 210ms ease;
    align-items: stretch;
    color: #1f2937;
}

/* Disable per-card decorative pseudo-element so lifestyle cards read like Experience containers */
.lifestyle-grid .card::before { display: none !important; }

/* Make all cards a consistent shape so media fills them predictably */
.lifestyle-grid .card,
.lifestyle-grid .card.placeholder {
     /* default card sizing — allow specific cards (e.g., images) to control their media height
         but do not force all placeholders to a fixed aspect ratio which can prevent embeds from expanding */
     aspect-ratio: auto;
}

.lifestyle-grid .card:hover { transform: translateY(-4px); }

.lifestyle-grid .card.spotify-card {
    padding: 0;
}

.lifestyle-grid .graphic {
    /* reserved for optional decorative graphics inside the lifestyle grid */
    display: block;
}

.lifestyle-grid .card.placeholder {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0.5rem;
    /* placeholders are now transparent to let the bubble and page background show through */
    /* use grid so the middle (media) row expands to fill available space */
    display: grid;
    /* ensure the middle row can fully expand and allow children to fill it */
    grid-template-rows: auto minmax(0, 1fr) auto; /* title / media / caption/actions */
    height: auto;
    max-height: none;
    /* allow card to size to its content so embeds can expand vertically */
    height: auto;
    max-height: none;
    min-height: 0;
    grid-template-rows: auto minmax(0, 1fr) auto; /* title / media / caption/actions */
    gap: 0.5rem;
    align-items: start;
    /* reduce horizontal padding so media has more width */
    padding: 0.25rem;
    padding-bottom: 0.4rem; /* keep a little bottom breathing room */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    overflow: hidden;
}

.lifestyle-grid .card.placeholder:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

/* Ensure any media inside a card fills the middle grid row so no bottom gap remains */
.lifestyle-grid .card img,
.lifestyle-grid .card iframe,
.lifestyle-grid .card .lifestyle-photo,
.lifestyle-grid .card .strava-embed-placeholder,
.lifestyle-grid .card .spotify-embed-container {
    width: 100% !important;
    height: auto !important;
    max-width: 100%;
    object-fit: cover;
    align-self: stretch;
    justify-self: stretch;
    background: transparent;
    z-index: 1;
}

.lifestyle-grid .card .lifestyle-photo { height: 140px; border-radius: 8px; object-fit: cover; }

/* Prevent inner scrolling and allow iframes injected by embeds to scale to their container
   Some third-party scripts insert inline width/height; use max-width/max-height and min-height:0
   on the grid middle row so it can shrink when necessary. */
.lifestyle-grid .card {
    /* let the middle row actually shrink if needed */
    min-height: 0;
}

.lifestyle-grid .card .strava-embed-placeholder,
.lifestyle-grid .card .strava-embed-placeholder iframe,
.lifestyle-grid .card .strava-embed-placeholder * {
    box-sizing: border-box;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    overflow: hidden !important;
}

/* Force any injected wrappers to be visually transparent and remove borders/shadows */
.lifestyle-grid .card .strava-embed-placeholder,
.lifestyle-grid .card .strava-embed-placeholder > div,
.lifestyle-grid .card .strava-embed-placeholder * {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    color: inherit !important;
}

/* If the embed creates nested wrappers with inline styles, force them to fit */
.lifestyle-grid .card .strava-embed-placeholder > div,
.lifestyle-grid .card .strava-embed-placeholder > div * {
    width: 100% !important;
    height: 100% !important;
    max-height: 100% !important;
    overflow: hidden !important;
}

/* Additional tuning: clamp the embed height so it never exceeds the card.
   Use a percentage-based max-height and a safe fallback scale for stubborn iframes. */
.lifestyle-grid .card .strava-embed-placeholder {
    /* ensure the placeholder can't push beyond the card */
    max-height: 100% !important;
    height: 100% !important;
    position: relative; /* allow absolute children to fill the area */
    display: block;
    align-items: stretch;
    justify-content: stretch;
    overflow: hidden !important;
}

/* Make any iframe or embed wrapper fill the placeholder exactly */
.lifestyle-grid .card .strava-embed-placeholder iframe,
.lifestyle-grid .card .strava-embed-placeholder .strava-embed-wrapper,
.lifestyle-grid .card .strava-embed-placeholder > div {
    position: absolute !important;
    inset: 0 !important;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    background: transparent !important;
    border: none !important;
}

/* If the embed still overflows because it uses fixed pixel heights, scale it down slightly */
.lifestyle-grid .card .strava-embed-placeholder .strava-embed-wrapper,
.lifestyle-grid .card .strava-embed-placeholder > div {
    width: 100% !important;
    height: 100% !important;
    max-height: 100% !important;
    overflow: hidden !important;
}

/* Optional: provide a conservative scale for very tall embeds on narrow cards */
@media screen and (max-width: 900px) {
    .lifestyle-grid .card .strava-embed-placeholder iframe {
        /* small downscale to avoid needing scroll inside smaller cards */
        transform: scale(0.98);
    }
}

@media screen and (max-width: 480px) {
    .lifestyle-grid .card .strava-embed-placeholder iframe {
        transform: scale(0.95);
    }
}

/* Make the Strava card slightly taller so the 'Follow' area and header are visible */
.lifestyle-grid .card.strava-card {
    /* match image cards: title / media / caption, predictable aspect */
    /* Allow the Strava card to expand vertically (do not force the 3:4 aspect) */
    aspect-ratio: auto !important;
    padding: 0.25rem;
    min-height: 340px; /* give more vertical room for the embed */
}

.lifestyle-grid .card.strava-card .strava-embed-placeholder {
    grid-row: 2;
    width: 100% !important;
    height: 100% !important;
    aspect-ratio: auto !important;
        /* responsive min height: at least 320px, scale to 35vh on larger screens, cap at 720px */
        min-height: clamp(320px, 35vh, 720px) !important;
    border-radius: 12px;
    object-fit: cover;
    overflow: hidden !important;
}

.lifestyle-grid .card.strava-card .strava-embed-placeholder iframe {
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    object-fit: cover;
    border-radius: 12px;
}

/* Fallback link shown when Strava embed fails to load */
.strava-fallback {
    display: inline-block;
    padding: 12px 16px;
    border-radius: 10px;
    background: linear-gradient(180deg, #0f3058, #006adc);
    color: #fff;
    font-weight: 700;
    text-align: center;
}

.strava-fallback:focus,
.strava-fallback:hover { opacity: 0.95; }

/* Place titles and captions in rows 1 and 3 explicitly */
.lifestyle-grid .card > h1,
.lifestyle-grid .card > h2,
.lifestyle-grid .card > h3,
.lifestyle-grid .card > h4,
.lifestyle-grid .card .card-title {
    grid-row: 1;
    text-align: center;
}

.lifestyle-grid .card .caption,
.lifestyle-grid .card .card-footer {
    grid-row: 3;
}

.lifestyle-grid .caption {
    font-size: 1rem;
    font-weight: 600;
    color: #2d3748;
    text-align: center;
.lifestyle-grid .card .caption { background: transparent !important; }
    /* reduce gap between title and media */
    margin-bottom: 0.25rem;
    flex-grow: 0;
    flex-shrink: 0;
}

/* When captions are siblings after cards, ensure they are centered and span one column */
.lifestyle-grid .caption {
    display: block;
    grid-column: span 1;
    align-self: start;
    padding-top: 0.5rem;
}

/* Remove any background from captions so they don't form a dark band over the card */
.lifestyle-grid .card .caption,
.lifestyle-grid .caption,
.lifestyle-card .caption {
    background: none !important;
    padding: 0.35rem 0 0.5rem 0 !important;
    margin: 0 !important;
    color: #0f1724; /* slightly darker for improved contrast */
}

.lifestyle-photo {
    width: 100%;
    /* taller photos */
    /* size images via aspect-ratio so cards adapt naturally */
    height: auto;
    max-height: none;
    aspect-ratio: 3 / 4;
    display: block;
    min-height: 240px; /* sensible minimum */
    /* round inner media to match the card's rounded look */
    border-radius: 12px;
    /* show top of the image first */
    object-position: top center;
    /* ensure the photo fills the available width inside the card */
    align-self: stretch;
    margin-top: 0;
    object-fit: cover;
}

.strava-embed-placeholder {
    width: 100%;
    /* taller embed area for better visibility */
    height: auto;
    max-height: none;
    aspect-ratio: 3 / 4;
    min-height: 240px;
    border-radius: 12px;
    align-self: stretch;
    margin-top: 0;
    overflow: hidden;
}

.spotify-embed-container {
    width: 100%;
    max-width: none; /* allow full card width */
    height: 320px; /* reduced base height */
    margin: 0.5rem 0;
    padding: 0; /* remove inner padding so iframe can fill cleanly */
    border-radius: 12px;
    position: relative; /* for absolute iframe positioning */
    overflow: hidden;
    /* transparent container so the embed background shows through */
    background: transparent;
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    border: none;
    box-shadow: none;
}

.spotify-iframe {
    width: 100%;
    /* force the iframe to strictly fill the available grid row and not grow on its own */
    height: 100% !important;
    max-height: 100% !important;
    box-sizing: border-box;
    /* round only the bottom corners so the embed matches the card's bottom radius */
    border-radius: 0 0 6px 6px;
    border: none;
    display: block;
}

/* Removed decorative label - kept intentionally empty to avoid injected text */
.spotify-embed-container::before { content: none; }

/* Make iframe sit in the second row and fill available space cleanly */
.spotify-embed-container > iframe.spotify-iframe { position: absolute; inset: 0; width: 100%; height: 100%; max-height: 100%; }

@media screen and (max-width: 900px) {
    .spotify-embed-container { height: 280px; padding: 8px; }
}

@media screen and (max-width: 480px) {
    .spotify-embed-container { height: 220px; padding: 6px; }
}

#lifestyle {
    padding-top: 100px;
    color: white;
}

/* ensure the lifestyle section sits below the sticky header when targeted */
#lifestyle { scroll-margin-top: 120px; }

/* Prevent any visible line or pseudo-element when a section becomes :target */
section:target { outline: none; box-shadow: none; }
section:target::before, section:target::after { display: none !important; }

.lifestyle-card {
    background: linear-gradient(180deg, rgba(255,255,255,0.46), rgba(255,255,255,0.66));
    -webkit-backdrop-filter: blur(8px) saturate(1.08);
    backdrop-filter: blur(8px) saturate(1.08);
    padding: 1.25rem;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(15,23,42,0.06);
    border: 1px solid rgba(15,23,42,0.04);
    margin-top: 1rem;
    color: #1f2937; /* darker text for better contrast on glass */
    line-height: 1.65;
}

.lifestyle-card p,
.lifestyle-card .caption {
    color: #1f2937;
    font-size: 1rem;
}

@media screen and (max-width: 900px) {
    .lifestyle-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .lifestyle-grid .card.placeholder {
        padding: 0.3rem;
        /* let the card size to its content on smaller screens */
        height: auto;
        max-height: none;
    }

    .lifestyle-photo,
    .strava-embed-placeholder {
    min-height: 420px;
    max-height: 620px;
    }
}

@media screen and (max-width: 480px) {
    .lifestyle-grid {
        grid-template-columns: 1fr;
    }

    .container {
        padding: 0 0.5rem;
    }

    .lifestyle-grid .card.placeholder {
        padding: 0.2rem;
        /* allow card to size to its content on small phones */
        height: auto;
        max-height: none;
    }

    .lifestyle-photo,
    .strava-embed-placeholder {
    min-height: 360px;
    max-height: 520px;
    }

    .spotify-iframe {
        height: 352px;
    }
}

@media screen and (min-height: 900px) {
    .lifestyle-grid .card.placeholder {
        height: auto;
        max-height: none;
    }

    .lifestyle-photo,
    .strava-embed-placeholder {
        min-height: 250px;
        max-height: 420px;
    }

    .spotify-embed-container {
        height: 352px;
    }

    .spotify-iframe {
        height: 352px;
    }
}

@media screen and (max-width: 430px) {
    .spotify-iframe {
        height: 352px;
    }
}

#lifestyle {
    padding-top: 100px;
    width: 100%;
    max-width: 100%;
}

main {
    padding-bottom: 8rem;
}

.card {
    position: relative;
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

@media screen and (min-width: 901px) {
    .lifestyle-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .lifestyle-grid .card.placeholder {
    /* desktop: let card size to its content */
    height: auto;
    max-height: none;
        padding: 0.35rem;
    }

    /* desktop-specific duplication removed; generic media rules handle sizing */
}

/* Contact form styling to match site theme */
.contact { padding: 80px 0; }
.contact h2 { font-size: 1.8rem; color: #0f1724; margin-bottom: 6px; }
.contact-intro { color: var(--muted); margin-bottom: 18px; }
.contact-form { display: grid; gap: 14px; padding: 20px; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96)); border-radius: 12px; border: 1px solid rgba(10,20,30,0.04); box-shadow: 0 10px 30px rgba(2,6,23,0.06); }
.contact-form .form-group { display: grid; gap: 6px; }
.contact-form label { font-weight: 600; color: #374151; }
.contact-form input[type="text"], .contact-form input[type="email"], .contact-form textarea { padding: 12px 14px; border-radius: 8px; border: 1px solid rgba(15,23,42,0.06); background: rgba(255,255,255,0.6); color: #0f1724; font-size: 1rem; }
.contact-form textarea { resize: vertical; min-height: 120px; }
.submit-btn { display: inline-block; background: linear-gradient(180deg, #0f3058, #006adc); color: #fff; padding: 12px 16px; border-radius: 10px; border: none; font-weight: 700; cursor: pointer; }
.submit-btn:hover { opacity: 0.95; }

/* Form actions: place submit and LinkedIn button inline on larger screens, stacked on small screens */
.contact-form .form-actions { display: flex; gap: 12px; align-items: center; margin-top: 6px; }
.contact-form .linkedin-btn { display: inline-flex; gap: 10px; align-items: center; padding: 10px 14px; border-radius: 10px; background: transparent; border: 1px solid rgba(15,23,42,0.06); color: var(--text); font-weight: 700; text-decoration: none; }
.contact-form .linkedin-btn .linkedin-label { display: inline-block; }
.contact-form .linkedin-btn i { color: #0a66c2; font-size: 1.05rem; }
.contact-form .linkedin-btn:hover { background: linear-gradient(180deg, rgba(15,48,88,0.04), rgba(0,106,220,0.03)); }

@media (max-width: 520px) {
    .contact-form .form-actions { flex-direction: column; align-items: stretch; }
    .contact-form .linkedin-btn { justify-content: center; }
}

/* Contact modal header: heading left, actions (LinkedIn) right */
.contact-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 10px; }
.contact-header h3 { margin: 0; font-size: 1.25rem; }
.contact-header-actions { display: flex; gap: 8px; align-items: center; }

@media (max-width: 640px) {
    .contact-header { flex-direction: column; align-items: flex-start; }
    .contact-header-actions { width: 100%; display: flex; justify-content: flex-start; }
    .contact-form .linkedin-btn { width: auto; }
}
